{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAQC,SAASC,cAAc,kBAE/BC,GADOF,SAASC,cAAc,iBACrBD,SAASC,cAAc,oBAChCE,EAAOH,SAASC,cAAc,SACpC,IAAIG,EAAgB,EAChBC,EAAW,EACf,MAAMC,EAAgB,CAACC,EAAUC,IAC/B,IAAIC,SAAQ,CAACC,EAASC,KACpBC,YAAW,KACTR,EAAgBS,KAAKC,SAAW,GAC5BV,EACFM,EACE,8EAGFC,EACE,4EACC,GAEJH,EAAM,IAGPO,EAAiBC,IACrBX,GAAa,EACbY,EAAApB,GAASqB,OAAOC,QACd,uBAAqBd,SAAiB,IAAEe,MAAQC,UAAYC,QAG1DC,EAAgBP,IACpBX,GAAa,EACbY,EAAApB,GAASqB,OAAOM,QACd,sBAAoBnB,SAAe,IAAEe,MAAQC,UAAYC,QAI7D,IAAIA,EAAY,EAChBnB,EAAKsB,iBAAiB,UAAUC,IAC9BA,EAAMC,iBACNL,GAAY,IAAIF,MAAOC,UAEvB,IAAK,IAAIO,EAAI,EAAGA,EAAI,CAAC1B,EAAO2B,OAAQD,IAClCtB,EAAc,EAAGP,EAAM8B,OAAOC,KAAKf,GAAgBgB,MAAMR,GAE3DlB,EAAW,CAAC","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst delay = document.querySelector(`[name=\"delay\"]`);\nconst step = document.querySelector(`[name=\"step\"]`);\nconst amount = document.querySelector(`[name=\"amount\"]`);\nconst form = document.querySelector('.form');\nlet shouldResolve = 0;\nlet position = 0;\nconst createPromise = (position, delay) =>\n  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve(\n          '`✅ Fulfilled promise ${position} in ${new Date().getTime() - clickTime}ms`'\n        );\n      } else {\n        reject(\n          '`❌ Rejected promise ${position} in ${new Date().getTime() - clickTime}ms`'\n        );\n      }\n    }, delay);\n  });\n\nconst resolveHandler = result => (\n  (position += 1),\n  Notiflix.Notify.success(\n    `✅ Fulfilled promise ${position} in ${new Date().getTime() - clickTime}ms`\n  )\n);\nconst rejectHandler = result => (\n  (position += 1),\n  Notiflix.Notify.failure(\n    `❌ Rejected promise ${position} in ${new Date().getTime() - clickTime}ms`\n  )\n);\n\nlet clickTime = 0;\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  clickTime = new Date().getTime();\n\n  for (let i = 0; i < [amount.value]; i++) {\n    createPromise(2, delay.value).then(resolveHandler).catch(rejectHandler);\n  }\n  position = 0;\n});\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$delay","document","querySelector","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$form","$47d4ff9957288465$var$shouldResolve","$47d4ff9957288465$var$position","$47d4ff9957288465$var$createPromise","position","delay1","Promise","resolve","reject","setTimeout","Math","random","$47d4ff9957288465$var$resolveHandler","result","$parcel$interopDefault","Notify","success","Date","getTime","$47d4ff9957288465$var$clickTime","$47d4ff9957288465$var$rejectHandler","failure","addEventListener","event","preventDefault","i","value","then","catch"],"version":3,"file":"03-promises.93bb9dfa.js.map"}